# Prefix Sum Pattern Taxonomy

> Prefix sum (cumulative sum) is a preprocessing technique that enables efficient range sum queries by precomputing cumulative values.

```
└── Prefix Sum Pattern
    │
    ├── 1D Prefix Sum
    │   │   /* Cumulative sums in one-dimensional arrays */
    │   │
    │   ├── ─ Range Sum Queries
    │   │   │   /* Efficiently calculating sums over intervals */
    │   │   │   ├── Basic Range Sum
    │   │   │   │   ├── Problem: "303. Range Sum Query - Immutable"
    │   │   │   │   └── Problem: "1480. Running Sum of 1d Array"
    │   │   │   │
    │   │   │   ├── Modified Range Sum
    │   │   │   │   ├── Problem: "307. Range Sum Query - Mutable" (segment tree better)
    │   │   │   │   └── Problem: "848. Shifting Letters"
    │   │   │   │
    │   │   │   └── Special Range Calculations
    │   │   │       ├── Problem: "238. Product of Array Except Self" (prefix product)
    │   │   │       └── Problem: "724. Find Pivot Index"
    │   │   │
    │   │   ├── ─ Subarray Sum Problems
    │   │   │   │   /* Finding subarrays with specific sum properties */
    │   │   │   │   ├── Target Sum Subarrays
    │   │   │   │   │   ├── Problem: "560. Subarray Sum Equals K"
    │   │   │   │   │   ├── Problem: "974. Subarray Sums Divisible by K"
    │   │   │   │   │   └── Problem: "523. Continuous Subarray Sum" (remainder)
    │   │   │   │   │
    │   │   │   │   ├── Maximum Subarray Problems
    │   │   │   │   │   ├── Problem: "53. Maximum Subarray" (Kadane's with prefix sum)
    │   │   │   │   │   ├── Problem: "1413. Minimum Value to Get Positive Step by Step Sum"
    │   │   │   │   │   └── Problem: "1031. Maximum Sum of Two Non-Overlapping Subarrays"
    │   │   │   │   │
    │   │   │   │   └── Subarray Length Constraints
    │   │   │   │       ├── Problem: "209. Minimum Size Subarray Sum"
    │   │   │   │       └── Problem: "325. Maximum Size Subarray Sum Equals k"
    │   │   │
    │   │   └── ─ Equilibrium & Balance Problems
    │   │       │   /* Finding points of balance in arrays */
    │   │       │   ├── Problem: "724. Find Pivot Index"
    │   │       │   ├── Problem: "1991. Find the Middle Index in Array"
    │   │       │   └── Problem: "1664. Ways to Make a Fair Array"
    │   │
    │   └── Prefix Sum with Hash Table
    │       │   /* Combining prefix sums with hash maps */
    │       │   ├── Sum Counting Problems
    │       │   │   ├── Problem: "560. Subarray Sum Equals K"
    │       │   │   ├── Problem: "1248. Count Number of Nice Subarrays"
    │       │   │   └── Problem: "930. Binary Subarrays With Sum"
    │       │   │
    │       │   ├── Longest Subarray Problems
    │       │   │   ├── Problem: "525. Contiguous Array" (equal 0s and 1s)
    │       │   │   ├── Problem: "325. Maximum Size Subarray Sum Equals k"
    │       │   │   └── Problem: "1124. Longest Well-Performing Interval"
    │       │   │
    │       │   └── First Occurrence Tracking
    │       │       ├── Problem: "1171. Remove Zero Sum Consecutive Nodes from Linked List"
    │       │       └── Problem: "523. Continuous Subarray Sum" (remainder tracking)
    │
    ├── 2D Prefix Sum
    │   │   /* Cumulative sums in two-dimensional matrices */
    │   │
    │   ├── ─ Rectangle Sum Queries
    │   │   │   /* Efficiently calculating sums over rectangular regions */
    │   │   │   ├── Basic Rectangle Sum
    │   │   │   │   ├── Problem: "304. Range Sum Query 2D - Immutable"
    │   │   │   │   └── Problem: "1314. Matrix Block Sum"
    │   │   │   │
    │   │   │   └── Maximum Submatrix
    │   │   │       ├── Problem: "1074. Number of Submatrices That Sum to Target"
    │   │   │       ├── Problem: "363. Max Sum of Rectangle No Larger Than K"
    │   │   │       └── Problem: "85. Maximal Rectangle" (with histogram)
    │   │   │
    │   │   ├── ─ Image Processing Applications
    │   │   │   │   /* Using 2D prefix sums for image operations */
    │   │   │   │   ├── Problem: "1314. Matrix Block Sum"
    │   │   │   │   └── Problem: "661. Image Smoother"
    │   │   │
    │   │   └── ─ Fixed Shape Counting
    │   │       │   /* Counting occurrences of specific patterns */
    │   │       │   ├── Problem: "1277. Count Square Submatrices with All Ones"
    │   │       │   └── Problem: "1504. Count Submatrices With All Ones"
    │   │
    │   └── 2D Prefix Sum with Compression
    │       │   /* Optimized 2D prefix sum for sparse matrices */
    │       │   ├── Problem: "1292. Maximum Side Length of a Square with Sum Less than or Equal to Threshold"
    │       │   └── Application: "Efficient 2D range queries in sparse matrices"
    │
    ├── Difference Array (Inverse of Prefix Sum)
    │   │   /* Efficient range updates with single queries */
    │   │
    │   ├── ─ Range Update Operations
    │   │   │   /* Efficiently applying updates to ranges */
    │   │   │   ├── Problem: "370. Range Addition"
    │   │   │   ├── Problem: "1109. Corporate Flight Bookings"
    │   │   │   └── Problem: "1094. Car Pooling"
    │   │   │
    │   │   └── ─ 2D Difference Array
    │   │       │   /* Range updates on matrices */
    │   │       │   ├── Problem: "2536. Increment Submatrices by One"
    │   │       │   └── Application: "Efficient 2D range updates"
    │   │
    │   └── Line Sweep with Difference Array
    │       │   /* Combining difference arrays with line sweep technique */
    │       │   ├── Problem: "218. The Skyline Problem"
    │       │   ├── Problem: "1094. Car Pooling"
    │       │   └── Problem: "253. Meeting Rooms II"
    │
    └── Advanced Applications
        │   /* Specialized uses of prefix sum */
        │
        ├── ─ Prefix XOR
        │   │   /* Using XOR instead of addition */
        │   │   ├── Problem: "1310. XOR Queries of a Subarray"
        │   │   └── Problem: "1442. Count Triplets That Can Form Two Arrays of Equal XOR"
        │
        ├── ─ Prefix GCD/LCM
        │   │   /* Using GCD or LCM operations */
        │   │   └── Problem: "1979. Find Greatest Common Divisor of Array"
        │
        └── ─ Prefix Min/Max
            │   /* Tracking running min/max values */
            │   ├── Problem: "1340. Jump Game V"
            │   └── Problem: "1425. Constrained Subsequence Sum"
```

> **Related Patterns**: 
> - Sliding Window (alternative for some range sum problems)
> - Hash Table (often combined with prefix sum)
> - Dynamic Programming (prefix sum can optimize certain DP problems)
> - Segment Tree (alternative for mutable range queries)
